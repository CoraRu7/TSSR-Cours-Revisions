### **Titre : Collecte des données utilisées par les IDS/IPS**

**Objectif :**
Comprendre les sources de données, les mécanismes de collecte, les méthodes de détection, la génération d’alertes et l’évaluation des performances des IDS/IPS afin de sécuriser efficacement un réseau.

---

### **Concepts clés :**

**I) Collecte des données**

* **Sources de données :**

  * **Journaux serveur** : tentatives d’accès, erreurs système, anomalies de trafic.
  * **Flux de paquets réseau** : captures et analyse du trafic réseau.
  * **Données contextuelles** : topologies réseau, politiques de sécurité, configurations.
* **Exploration pratique :**

  * PfSense : `Status → System Logs` (firewall, OpenVPN, authentication).
  * Graphiques de trafic : `Status → Traffic Graph` pour surveiller en temps réel.
  * Capture de paquets : `Diagnostics → Packet Capture` (Wireshark ou équivalent).

**II) Mécanismes de collecte**

* **Collecte :**

  * Agents de collecte (serveurs, postes, routeurs).
  * Sondes réseau (copie du trafic réseau).
  * Collecte à partir de journaux ou capteurs.
* **Transfert vers analyse :**

  * Protocoles sécurisés.
  * File d’attente / buffer pour gérer le flux de données.

**III) Méthodes de détection et génération d’alertes**

* **Détection par signature :**

  * IDS/IPS basé sur des modèles connus (règles ou signatures).
  * Avantages : faible faux positif, facile à gérer.
  * Limites : inefficace contre les attaques inconnues, nécessite des mises à jour fréquentes.
* **Détection par comportement :**

  * IDS/IPS apprend le comportement normal, détecte les écarts.
  * Avantages : détecte attaques inconnues, moins de mises à jour.
  * Limites : plus de faux positifs, période d’apprentissage nécessaire.
* **Exemple d’attaques détectables :**

  * **DDoS** : surcharge réseau, nécessite seuils d’alerte.
  * **Exploitation de vulnérabilités** : détection via comportements anormaux (OWASP référence).

**IV) Génération et gestion des alertes**

* Types : en temps réel, de tendance, de conformité, d’état.
* Configuration : seuils de déclenchement, priorité, notifications, enregistrement des données.

**V) Évaluation des performances et réduction des faux positifs**

* Mesures : taux de détection, taux de faux positifs, performance globale (précision, sensibilité, spécificité).
* Stratégies : affiner les règles, mise à jour régulière, apprentissage supervisé/non supervisé.
* Optimisation ressources : solutions matérielles dédiées, répartition de la charge.

---

### **Commandes / Notes pratiques :**

* PfSense :

  * `Status → System Logs` → voir logs firewall, OpenVPN, authentication
  * `Status → Traffic Graph` → visualiser bande passante
  * `Diagnostics → Packet Capture` → capture de paquets réseau
* Snort (IDS basé sur signature) : config via `Service → Snort → Global Settings`
* Zeek (IDS basé sur comportement) : visualisation en temps réel via `Service → Zeeknfl → Real Time Inspection`

---

### **Liens utiles / références :**

* Kaspersky : [https://www.kaspersky.fr/resource-center/threats/ddos](https://www.kaspersky.fr/resource-center/threats/ddos)
* IT-Connect : [https://www.it-connect.fr](https://www.it-connect.fr)
* OWASP : [https://owasp.org](https://owasp.org)

---