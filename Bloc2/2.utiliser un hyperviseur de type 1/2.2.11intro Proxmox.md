# **Introduction à Proxmox Virtual Environment (PVE)**

### **Objectifs :**

* Comprendre la virtualisation via hyperviseur de type 1 et conteneurs.
* Installer et gérer un hyperviseur Proxmox VE.
* Configurer le réseau, le stockage et la sécurité de manière basique.

---

## **Concepts clés**

### **1. Présentation de Proxmox VE**

* **Hyperviseur de type 1 (bare-metal)** : s’exécute directement sur le matériel.

  * Exemple : Proxmox VE, VMware ESXi, Hyper-V.
* **Hyperviseur de type 2** : s’exécute sur un OS hôte.

  * Exemple : VirtualBox, VMware Workstation.
* **Virtualisation intégrée :**

  * **KVM** : virtualisation complète (chaque VM a son propre OS).
  * **LXC** : virtualisation légère via conteneurs (partage du noyau Linux).
* **Interface de gestion :**

  * Web GUI (https://IP_Proxmox:8006)
  * API RESTful pour automatisation et provisioning.
* **Cluster et haute disponibilité :**

  * Regroupement de nœuds PVE pour load-balancing et failover.
* **Stockage supporté :** local, ZFS, NFS, CIFS, iSCSI, Ceph.

---

### **2. Installation de Proxmox VE**

**Prérequis minimaux :**

* CPU 64 bits avec VT-x/AMD-V
* 2 Go RAM minimum (8 Go recommandé)
* 32 Go disque minimum (hors VM)
* Carte réseau Ethernet
* ISO Proxmox, clé USB ou CD-ROM

**Étapes principales :**

1. Démarrer à partir du support d’installation (USB/CD) → choisir *Install Proxmox VE*.
2. Sélectionner disque cible et système de fichiers (ext4 par défaut).
3. Configurer emplacement, fuseau horaire, clavier.
4. Saisir mot de passe root et email admin.
5. Configurer IP fixe et FQDN (nom d’hôte).
6. Valider résumé et lancer installation → retirer support et redémarrer.
7. Accéder à l’interface Web depuis un poste client : `https://IP_Proxmox:8006`.

---

### **3. Configuration de Proxmox VE**

**Réseau :**

* **vNIC** : cartes réseau virtuelles pour VM et conteneurs.
* **Ponts réseau** : connecter VM à réseau physique ou virtuel.
* **Passerelles virtuelles** : configurer la connectivité réseau.
* **Pare-feu** : activer via GUI ou shell (`pve-firewall start/stop`).

**Sécurité :**

* Journaux et audit : `/var/log/pve/audit` ou interface Web.
* Authentification 2FA (TOTP, WebAuth, clé USB).
* Rôles et permissions : utilisateurs → rôles → chemins → permissions → groupes.
* Sauvegarde/restauration : Proxmox VE Backup Server (PBS) ou local.

**Stockage :**

* **Local** : ISO, conteneurs et VM.
* **Local-LVM** : volumes VM et conteneurs.
* **NFS/CIFS** : stockage réseau partagé.
* **SAN/iSCSI/CEPH** : stockage distribué et redondant.
* Gestion via : Datacenter → PVE → Disks / Storage.

---

### **4. Hyperviseur type 1 vs type 2**

| Critère     | Type 1                       | Type 2                                |
| ----------- | ---------------------------- | ------------------------------------- |
| Performance | Élevée (direct sur matériel) | Moyenne (dépend de l’OS hôte)         |
| Isolation   | Excellente                   | Moyenne                               |
| Usage       | Production, datacenter       | Développement, test, poste de travail |
| Sécurité    | Élevée                       | Moyenne                               |
| Exemple     | Proxmox VE, ESXi, Hyper-V    | VirtualBox, VMware Workstation        |

**Conclusion :**
Pour un environnement professionnel exigeant performance, sécurité et isolation → hyperviseur de type 1.
Pour développement/test ou machines personnelles → type 2.

---

### **Commandes / Notes importantes**

* Pare-feu : `pve-firewall start/stop`
* Gestion utilisateurs/permissions : `pveum user add`, `pveum aclmod / -user nom@pve -role Role`
* Ajouter pont réseau : Datacenter → System → Network → Create Bridge
* Sauvegarde VM : Datacenter → VM → Backup → Restore
* Téléverser ISO : Datacenter → Storage → ISO Images → Upload / Download URL

---

### **Liens / Ressources**

* Documentation officielle : [https://www.proxmox.com/en/proxmox-ve](https://www.proxmox.com/en/proxmox-ve)
* Guide installation et configuration PVE 8.x
* Vidéos pratiques (installation sur VM VirtualBox, configuration réseau, stockage et sécurité)

---