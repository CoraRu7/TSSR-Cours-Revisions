# Fiche – Paramétrage et configuration d’Hyper-V

## 1. Contexte

* Les **machines virtuelles (VM)** jouent un rôle clé dans le cloud ou les réseaux locaux.
* Elles permettent de tester ou exécuter des applications, bases de données, OS, IoT, etc.
* **Hyper-V** est l’outil pour créer et gérer les VM sur Windows Server.

---

## 2. Hyper-V Manager

### Définition

* Outil d’administration pour gérer **hôtes Hyper-V** et **VM**, localement ou à distance.
* Fournit une **interface graphique (GUI)** conviviale pour :

  * Créer, configurer et supprimer des VM
  * Gérer points de contrôle (snapshots)
  * Gérer disques virtuels et adaptateurs réseau
  * Configurer commutateurs virtuels

### Utilisation

* Clic droit sur un hôte Hyper-V → **Nouveau → Ordinateur virtuel** → assistant de création.
* Permet de modifier :

  * Mémoire
  * Paramètres réseau
  * Nombre de processeurs
  * Disques et lecteurs virtuels

### Exigences

* Windows Server avec rôle Hyper-V activé ou RSAT installé sur Windows 8/10/11.
* Compatibilité entre versions Hyper-V Manager et hôte.
* Gestion à distance possible pour Windows Server Core ou Hyper-V Server sans GUI.

---

## 3. Paramétrage recommandé

* **Stockage des VHD/VHDX** sur un disque différent de l’OS hôte → meilleures performances et sécurité.
* **Nom unique et IP fixe** pour chaque VM → éviter conflits réseau.

---

## 4. Création d’une nouvelle VM

### Préparation

* OS hôte avec Hyper-V.
* Image ISO du système à installer.
* Définition des besoins : RAM, espace disque, CPU selon OS et applications.

### Étapes

1. **Clic droit** sur l’hôte Hyper-V → Nouveau → Ordinateur virtuel.
2. Nommer la VM et définir l’emplacement (par défaut ou personnalisé).
3. Choisir la **génération de VM** :

   * Génération 1 → compatibilité ancienne (32/64 bits)
   * Génération 2 → dernières fonctionnalités (64 bits)
4. Allouer la **RAM** : mémoire statique ou dynamique.
5. Sélectionner l’**adaptateur réseau**.
6. Configurer le **disque dur virtuel** : emplacement, taille et nom.
7. Ajouter le **fichier ISO** pour l’installation de l’OS.
8. Vérifier la configuration → **Terminer**.
9. Démarrer la VM → **Se connecter** pour interagir avec le système.

---

## 5. Configuration avancée

* VM doit être **éteinte** pour modifier les paramètres.
* Options modifiables :

  * Mémoire, CPU, adaptateurs réseau
  * Ajouter/supprimer disques et lecteurs DVD
* Exemple : ajout d’un disque via **Contrôleur SCSI → Ajouter**.
* Après modification → **Démarrer la VM** pour appliquer les changements.

---

## 6. Snapshots (points de contrôle) et sauvegarde

* Snapshot = état complet d’une VM à un instant donné (OS, disque, mémoire).
* Créer un point de contrôle : clic droit sur VM → **Point de contrôle → Nommer**.
* Appliquer un snapshot : sélectionner → **Appliquer**.
* Supprimer un snapshot : sélection → **Supprimer** (les données fusionnées restent intactes).

---

## 7. Bonnes pratiques

* Maintenir la VM **à jour** avec correctifs et mises à jour de sécurité.
* Séparer stockage VM / hôte pour performance et isolation.
* Nom et IP uniques pour chaque VM pour une gestion réseau efficace.

---