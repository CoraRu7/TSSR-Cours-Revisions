# **Déployer un pare-feu sous Packet Tracer**

## **Contexte**

* Les pare-feux sont la **première ligne de défense** dans la sécurité réseau.
* Objectif : **filtrer, contrôler et sécuriser le trafic** pour protéger les données sensibles et prévenir les attaques.
* Packet Tracer permet de **simuler des réseaux** et de tester des règles de pare-feu dans un environnement sûr.

---

## **I) Fondamentaux du pare-feu**

### **1. Définition**

* Dispositif ou mécanisme qui **autorise ou bloque les connexions réseau** selon des règles prédéfinies.
* Objectifs :

  * Protéger les données sensibles
  * Réduire les risques d’attaques (DDoS, intrusions)
  * Maintenir la disponibilité des systèmes

### **2. Rôle et utilisation**

* Réseaux domestiques : protéger ordinateurs, smartphones, tablettes.
* Petites entreprises : bloquer accès non sécurisé, limiter navigation web.
* Grandes entreprises : sécuriser plusieurs sous-réseaux et données clients.
* Centres de données / cloud : sécurité des services en ligne.

### **3. Fonctionnalités**

* Analyse du trafic entrant/sortant
* Filtrage par :

  * Adresse IP source/destination
  * Port (ex. HTTP/HTTPS = 80/443, SSH = 22)
  * Protocole (TCP, UDP, ICMP…)
* Journalisation des paquets et alertes en cas de comportements suspects

---

## **II) Préparation de Packet Tracer**

### **1. Interface**

* Barre d’outils : sélection des équipements (routeurs, switches, terminaux).
* Espace de travail central : placer et connecter les équipements.
* CLI et logs : configurer et vérifier les équipements.

### **2. Équipements principaux**

* **Routeurs Cisco** : fonctions de pare-feu via **ACL (Access Control Lists)**.
* **Switches** : interconnexion des terminaux.
* Terminaux (PC, serveurs, imprimantes) pour tester la configuration.

### **3. Avantages de Packet Tracer**

* Mode simulation pour suivre les paquets en temps réel
* Tester les règles de filtrage et vérifier leur efficacité
* Visualisation du trafic et apprentissage des concepts réseau

---

## **III) Configuration réseau de base**

### **1. Préparer l’environnement**

* Créer un nouveau projet dans Packet Tracer.
* Identifier la barre d’outils, espace de travail et panneau équipements.

### **2. Ajouter et connecter les équipements**

* Routeur Cisco (ex. Router-1841 ou 2911)
* Switch (ex. Switch-2960)
* Terminaux (PC, serveurs…)
* Câblage :

  * Routeur ↔ Switch : câble droit
  * Switch ↔ Terminaux : câble droit
  * Routeur ↔ Routeur : câble croisé
* Vérifier que les ports sont **activés**

### **3. Configurer les adresses IP**

* Sur le routeur :

  ```
  Router> enable
  Router# configure terminal
  Router(config)# interface GigabitEthernet0/0
  Router(config-if)# ip address 192.168.1.1 255.255.255.0
  Router(config-if)# no shutdown
  Router(config)# interface GigabitEthernet0/1
  Router(config-if)# ip address 203.0.113.1 255.255.255.252
  Router(config-if)# no shutdown
  Router(config)# ip route 0.0.0.0 0.0.0.0 203.0.113.2
  ```
* Sur les terminaux : configurer IP, masque, passerelle par défaut (ex. 192.168.1.1).

### **4. Tester la connectivité**

* `ping` entre PC et routeur / PC et PC
* Vérifier l’accès aux services autorisés

### **5. Sauvegarde**

* Router : `copy running-config startup-config`
* Packet Tracer : `File → Save As`

---

## **IV) Déploiement des règles de pare-feu (ACL)**

### **1. Introduction aux ACL**

* Contrôle du trafic réseau via des règles appliquées sur un routeur.
* Types :

  * **Standard** : filtrage sur l’IP source
  * **Étendues** : filtrage IP source & destination, ports et protocoles

### **2. Création des règles**

* Autoriser HTTP/HTTPS :

  ```
  Router(config)# access-list 100 permit tcp any any eq 80
  Router(config)# access-list 100 permit tcp any any eq 443
  ```
* Bloquer SSH/FTP :

  ```
  Router(config)# access-list 100 deny tcp any any eq 22
  Router(config)# access-list 100 deny tcp any any eq 21
  ```

### **3. Application des ACL**

* Sur interface LAN :

  ```
  Router(config)# interface GigabitEthernet0/0
  Router(config-if)# ip access-group 100 in
  ```
* Sur interface WAN :

  ```
  Router(config)# interface GigabitEthernet0/1
  Router(config-if)# ip access-group 100 out
  ```

### **4. Test des règles**

* Ping : vérifier blocage ou autorisation
* HTTP/HTTPS : tester accès web simulé
* Telnet : vérifier ports ouverts/fermés

### **5. Priorité des règles**

* Règles **spécifiques d’abord**, générales après
* Les ACL sont exécutées **dans l’ordre** défini

### **6. Analyse et dépannage**

* `logging console` pour activer les logs
* Mode simulation Packet Tracer pour suivre les paquets

---

## **V) Compléments et outils avancés**

* **pfSense** : pare-feu/routeur open source avec interface web, règles granulaires, VPN, QoS.
* **iptables / nftables (Linux)** : contrôle précis du trafic, tables et chaînes pour filtrage avancé.
* **ACL Cisco** : filtrage intégré aux routeurs, standard ou étendu, pour réseaux complexes.

---

## **VI) Essentiel**

* Les pare-feux : **indispensables pour la sécurité réseau**
* Packet Tracer : permet de **comprendre et simuler** les règles de filtrage (ACL) et tester la sécurité.
* Pour des réseaux professionnels : utiliser pfSense, iptables/nftables ou ACL Cisco pour des fonctionnalités avancées.

---