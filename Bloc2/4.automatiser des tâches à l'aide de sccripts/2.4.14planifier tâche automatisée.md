# **Planification de tâches automatisées**

## **Objectif**

* Comprendre l’automatisation des tâches.
* Automatiser des processus sur **GNU/Linux** et **Windows** pour améliorer l’efficacité et la fiabilité.

---

## **I) Importance de la planification automatisée**

**Avantages :**

* **Évolutivité** : gérer plus de systèmes sans recruter plus de personnel.
* **Flexibilité** : adapter les scripts aux besoins de l’entreprise.
* **Gain de temps et efficacité** : automatisation des tâches répétitives.
* **Historique et audit** : journaux pour traçabilité et sécurité.
* **Planification** : exécution hors heures de travail.
* **Réduction des coûts** : moins d’erreurs et d’interventions manuelles.
* **Réduction des erreurs humaines** : exécution cohérente et fiable.
* **Surveillance** : détection automatique des problèmes et alertes.

---

## **II) Méthodes de planification**

| **Système** | **Outil**      | **Caractéristiques**                                                                                                |
| ----------- | -------------- | ------------------------------------------------------------------------------------------------------------------- |
| GNU/Linux   | Crontab        | Commande terminal, syntaxe concise, répétition régulière, pas de notifications natives                              |
| Windows     | Task Scheduler | Interface graphique, déclencheurs flexibles, notifications et gestion des erreurs, administration multi-utilisateur |

**Différences principales :**

* **Interface** : Crontab CLI vs Task Scheduler graphique.
* **Précision** : Crontab offre horaires fixes, Task Scheduler peut utiliser événements.
* **Interopérabilité** : Crontab pour scripts Unix/Linux, Task Scheduler pour logiciels Windows.
* **Notifications** : Task Scheduler intègre alertes et mails, Crontab non.

---

## **III) Planification avec Crontab (Linux)**

### **Syntaxe**

```
minute heure jour-du-mois mois jour-de-la-semaine commande
```

**Exemple :** Exécuter un script tous les soirs à 22h :

```
0 22 * * * /chemin/vers/script.sh
```

### **Commandes utiles**

* Éditer Crontab : `crontab -e`
* Lister tâches : `crontab -l`
* Vérifier fichier journal : `cat /var/spool/cron/crontabs/UTILISATEUR`
* Ajouter permissions exécution script : `chmod +x script.sh`

### **Exemples pratiques**

* Toutes les heures : `0 * * * * /chemin/vers/script.sh`
* Tous les jours à minuit : `0 0 * * * /chemin/vers/script.sh`
* Tous les lundis à 15h : `0 15 * * 1 /chemin/vers/script.sh`
* Toutes les 30 minutes : `*/30 * * * * /chemin/vers/script.sh`
* Premier jour de l’année à minuit : `0 0 1 1 * /chemin/vers/script.sh`

> Astuce : utiliser générateurs Crontab en ligne (ex : crontab-generator.com) pour éviter erreurs de syntaxe.

---

## **IV) Planification avec Task Scheduler (Windows)**

### **Scripts PowerShell**

* Extension : `.ps1`
* Autorisations : `Set-ExecutionPolicy` (Restricted, AllSigned, RemoteSigned…)
* Exécution :

```powershell
powershell -File "chemin\vers\script.ps1"
.\chemin\vers\script.ps1
```

### **Interface utilisateur**

* **Volet gauche** : bibliothèque, dossiers Microsoft et Windows.
* **Volet central** : onglets Général, Déclencheurs, Actions, Conditions, Paramètres avancés.
* **Volet droit** : journaux d’exécution.

### **Création d’une tâche**

1. Ouvrir « Planificateur de tâches ».
2. Cliquer sur « Créer une tâche de base ».
3. Nommer et décrire la tâche.
4. Choisir la fréquence d’exécution.
5. Définir l’action (ex. exécuter PowerShell + script).
6. Configurer options avancées si nécessaire.
7. Terminer.

### **Modification / suppression**

* Modifier : double-cliquer sur la tâche → apporter changements → OK.
* Supprimer : sélectionner la tâche → Supprimer.

---

## **V) L’essentiel**

* **GNU/Linux** : Cron + Bash pour scripts automatisés récurrents.
* **Windows** : Task Scheduler + PowerShell pour scripts et déclencheurs flexibles.
* **Bénéfices communs** : efficacité, fiabilité, audit, réduction d’erreurs, surveillance continue.

---