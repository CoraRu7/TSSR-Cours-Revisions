# Les bases des systèmes d’adressage IP

## 1. Contexte

* **Adresse IP** : identifiant unique attribué à chaque appareil connecté à Internet (PC, téléphone, objets connectés…).
* **Réglementation** : gérée par **ICANN**, qui attribue les plages d’adresses aux fournisseurs d’accès.

---

## 2. Protocole TCP/IP

* **TCP/IP** = Transmission Control Protocol / Internet Protocol.

  * **TCP** : transport fiable des paquets (contrôle des erreurs, accusés de réception).
  * **IP** : routage des paquets vers la bonne adresse.
* **Couches TCP/IP (4)** :

  | Couche      | Rôle                                                        |
  | ----------- | ----------------------------------------------------------- |
  | Hôte réseau | Matériel (physique) + transmission sur le support (liaison) |
  | Internet    | Acheminement des paquets (sans ordre précis)                |
  | Transport   | TCP (fiable, lent) ou UDP (rapide, non fiable)              |
  | Application | Interface avec les logiciels utilisateurs                   |

---

## 3. Protocoles IP

* **IPv4** : 32 bits, exprimée en 4 octets (0-255), ~4,3 milliards d’adresses.

  * Exemple : `255.255.255.0` → `11111111.11111111.11111111.00000000`.
* **IPv6** : 128 bits, 8 groupes de 16 bits en hexadécimal.

  * Exemple simplifié : `::6f26:68ab`.
  * ~340 sextillions d’adresses → quasi illimité.

---

## 4. Types d’adresses IP

* **Statique** : fixe, payante selon fournisseur, configuration manuelle possible.
* **Dynamique** : attribuée automatiquement par DHCP, temporaire.

### Classes d’adresses IP

| Classe | Usage                                          | Masque standard     |
| ------ | ---------------------------------------------- | ------------------- |
| A      | Grandes entreprises / IP publiques et privées  | /8 → 255.0.0.0      |
| B      | Moyennes entreprises / IP publiques et privées | /16 → 255.255.0.0   |
| C      | Petites entreprises / IP publiques et privées  | /24 → 255.255.255.0 |
| D      | Multicast                                      | –                   |
| E      | Réservé IANA                                   | –                   |

* **Réseaux spéciaux** :

  * `127.0.0.0` → localhost
  * `0.0.0.0` → route par défaut

* **Adresses privées** : utilisables uniquement en réseau local.

* **Adresses publiques** : utilisables uniquement sur Internet.

---

## 5. Masque de sous-réseau et VLSM

* **Masque de sous-réseau** : sépare la partie réseau de la partie hôte.

* **Notation CIDR** : `/n` = nombre de bits pour la partie réseau.

  * Exemples :

    * Classe A `/8` → 255.0.0.0
    * Classe B `/16` → 255.255.0.0
    * Classe C `/24` → 255.255.255.0

* **VLSM (Variable Length Subnet Masking)** : masque variable pour optimiser l’usage des IP.

  * Exemple : réseau 172.16.0.0/16 → liaison point à point → masque /30 → 4 IP disponibles.
  * Compatible avec : OSPF, IS-IS, EIGRP, RIPv2, routage statique.

---

## 6. Calcul d’adresses

### Conversion binaire

* 1 octet = 8 bits.
* Exemple : `192.168.0.1` → `11000000.10101000.00000000.00000001`

### Partie réseau et hôte

* IP & masque en binaire : applique une opération **ET logique** pour déterminer le réseau.
* **Exemple** :

  * IP : 192.168.56.128 /24
  * Masque : 255.255.255.0
  * Adresse réseau : 192.168.56.0
  * Hôtes : 192.168.56.1 → 192.168.56.254
  * Broadcast : 192.168.56.255

### Méthode du nombre magique

* Trouve NetID et Broadcast sans binaire :

  * IP : 172.25.30.50 /23 → masque 255.255.254.0
  * Octet significatif = 256 - 254 = 2
  * Multiple ≤ IP : 30 → NetID = 172.25.30.0
  * Broadcast = multiple suivant -1 = 172.25.31.255

---

## 7. Résumé

* IPv4 → limité, IPv6 → quasi illimité
* IP statique/dynamique selon usage
* Classes A, B, C → utilisables, D/E réservées
* Masque et CIDR → séparer réseau et hôte
* VLSM → optimisation des sous-réseaux
* Calcul d’adresse réseau, hôte et broadcast → méthode binaire ou nombre magique

---