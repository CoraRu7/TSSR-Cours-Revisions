# **Fiche de révision – Installation d’un serveur de fichiers**
<details>
<summary>

## **Objectif**
</summary>

Comprendre le rôle d’un serveur de fichiers, ses protocoles, et savoir l’installer pas à pas sur Windows Server.

---
</details>
<details>
<summary>

## **Concepts clés**
</summary>

### **1. Qu’est-ce qu’un serveur de fichiers ?**

* Serveur permettant de **stocker, partager et gérer l’accès aux fichiers** sur le réseau.
* Facilite la **collaboration** entre utilisateurs : lecture, écriture, modification, suppression.
* Supporte des **droits d’accès**, assurant sécurité et hiérarchisation des fichiers.
* Permet **sauvegarde et restauration centralisée** des fichiers.

### **2. Protocoles utilisés**

| Protocole      | Fonction                                             | Particularités                                                         |
| -------------- | ---------------------------------------------------- | ---------------------------------------------------------------------- |
| **NFS**        | Partage de fichiers pour postes clients (Unix/Linux) | Accès réseau simplifié                                                 |
| **FTP**        | Transfert de fichiers via TCP/IP                     | Upload / Download, ancien mais encore utilisé, non sécurisé par défaut |
| **SMB / CIFS** | Partage de ressources dans un réseau local           | Windows, gestion ACL intégrée                                          |
| **NCP**        | Partage et accès aux services d’impression           | Principalement ancien, encore utilisé sur certains systèmes            |

> **Astuce :** Le FTP fonctionne au niveau **APPLICATION** de la pile réseau et nécessite souvent un logiciel client (ex: FileZilla) pour transférer les fichiers.

---
</details>
<details>
<summary>

## **Méthode et procédure d’installation**
</summary>

### **Installation pas à pas d’un serveur de fichiers sous Windows Server**

1. **Ouvrir le Gestionnaire de serveur**

   * Menu : `Gérer` → `Ajouter des rôles et fonctionnalités`

2. **Assistant d’installation**

   * Page « Avant de commencer » → Cliquer sur `Suivant`

3. **Type d’installation**

   * Sélectionner : `Installation basée sur un rôle ou une fonctionnalité` → `Suivant`

4. **Serveur de destination**

   * Choisir : `Sélectionner un serveur du pool de serveurs` → `Suivant`

5. **Sélection du rôle**

   * Dérouler `Services de fichiers et de stockage`
   * Cocher `Services de fichiers` → `Suivant`

6. **Sélection des fonctionnalités**

   * Laisser par défaut → `Suivant`

7. **Confirmation et installation**

   * Vérifier les sélections → Cliquer sur `Installer`
   * Une fois terminé → Fermer l’assistant

8. **Vérification post-installation**

   * Dans le `Gestionnaire de serveur` → vérifier que le rôle `Services de fichiers et de stockage` est présent
   * Explorer le serveur de fichiers : possibilité de créer **volumes, pools de stockage, disques virtuels**

---
</details>
<details>
<summary>

## **Commandes et vérifications importantes**
</summary>

* **PowerShell pour vérifier les rôles installés :**

  ```powershell
  Get-WindowsFeature
  ```

  → Vérifie que `FS-FileServer` est installé.

* **Création d’un dossier partagé via PowerShell :**

  ```powershell
  New-SmbShare -Name "Partage" -Path "D:\Partage" -FullAccess "Administrators"
  ```

* **Vérifier les partages existants :**

  ```powershell
  Get-SmbShare
  ```

* **Contrôle d’accès (ACL) sur un dossier :**

  ```powershell
  Get-Acl "D:\Partage" | Format-List
  ```

* **Test de connectivité côté client :**

  ```cmd
  net use Z: \\NomServeur\Partage
  dir Z:
  ```

---
</details>
<details>
<summary>

## **Résumé pratique**
</summary>

* **Rôle clé :** centralisation, partage et sécurité des fichiers
* **Protocoles :** SMB, NFS, FTP, NCP
* **Installation :** via `Gestionnaire de serveur` ou PowerShell
* **Commandes essentielles :** création de partages, contrôle d’accès, vérification des rôles

---
</details>