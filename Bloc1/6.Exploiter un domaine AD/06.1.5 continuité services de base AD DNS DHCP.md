<details>
<summary>

# **Fiche 1 â€“ Concepts & DÃ©finitions**
</summary>

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘             CONTINUITÃ‰ DES SERVICES              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Objectif : garantir la disponibilitÃ© continue    â•‘
â•‘ de AD / DNS / DHCP mÃªme en cas dâ€™incident        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Cluster : regroupement de serveurs pour          â•‘
â•‘ performance et redondance                        â•‘
â•‘ Multi-maÃ®tre : tous les DC ont lecture/Ã©criture  â•‘
â•‘ Redondance : serveur secondaire prÃªt Ã  prendre   â•‘
â•‘ le relais en cas de panne                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### RÃ´les AD / DNS / DHCP
```
| Service| Objectif                             |Redondance
|--------| -------------------------------------|-----------
| AD     | Authentification, annuaire           | ContrÃ´leur secondaire (multi-maÃ®tre).
| DNS    | RÃ©solution noms â†’ IP                 | Serveur secondaire + transfert de zone.
| DHCP   | Distribution IP et paramÃ¨tres TCP/IP | Serveur secondaire, failover / load balancing.
```
---
</details>
<details>
<summary>

# **Fiche 2 â€“ Redondance Active Directory (AD)**
</summary>

### Types de contrÃ´leurs

* **Primaire / Ã‰mulateur PDC** :

  * Authentifie utilisateurs
  * GÃ¨re conflits noms et horodatage
* **Secondaire / Multi-maÃ®tre** :

  * RÃ©plique annuaire
  * Authentifie utilisateurs si primaire indisponible

### MÃ©thode â€“ Installation DC secondaire

1. Installer rÃ´le **AD DS**
2. Promouvoir serveur â†’ **Ajouter un DC Ã  un domaine existant**
3. SÃ©lectionner domaine et compte admin
4. Configurer options : base de donnÃ©es, fichiers journaux, rÃ©plication
5. Installer â†’ redÃ©marrage automatique

### VÃ©rification rÃ©plication

* **REPADMIN** : outil de diagnostic AD

```
repadmin /replsummary
// RÃ©sumÃ© global de l'Ã©tat de rÃ©plication (succÃ¨s, Ã©checs, dÃ©lais)

repadmin /showrepl
// DÃ©taille la rÃ©plication pour chaque DC et ses partenaires

repadmin /showrepl /errorsonly
// Affiche uniquement les erreurs de rÃ©plication
```

* **DCDIAG** : outil de diagnostic DC

```
dcdiag /s:SUPERMAN /a
// VÃ©rifie lâ€™Ã©tat de tous les DC connus (connectivitÃ©, rÃ©plication, santÃ© gÃ©nÃ©rale)

dcdiag /s:SUPERMAN /q
// Affiche uniquement les erreurs pour simplifier la lecture
```

### SchÃ©ma ASCII multi-maÃ®tre

```
[DC Primaire: SUPERMAN] â†” [DC Secondaire: BATMAN]
       |                         |
   AD Users & Groups          RÃ©plication objets
       |                         |
   Authentification             Authentification
```

---
</details>
<details>
<summary>

# **Fiche 3 â€“ Redondance DNS**
</summary>

### RÃ´les serveurs DNS

* **Principal** : autoritÃ© sur zone, mises Ã  jour directes
* **Secondaire** : copie de zone (lecture seule), disponibilitÃ© et rÃ©plication

### MÃ©thode â€“ VÃ©rification DNS

* **DNSLINT** : diagnostic serveur DNS et rÃ©plication AD DNS

```
dnslint
// Affiche toutes les options disponibles de l'outil

dnslint /d comptaas.lan
// VÃ©rifie les enregistrements DNS pour un domaine (rÃ©solution publique ou interne)

dnslint /ad 192.168.23.1 /s 192.168.23.1 /v
// /ad : test de la rÃ©plication AD DNS
// /s  : IP du serveur autoritaire sur la zone
// /v  : mode verbeux, affiche chaque Ã©tape
```

* **DCDIAG DNS** : Ã©tat santÃ© serveur DNS

```
dcdiag /s:SUPERMAN /test:dns
// VÃ©rifie :
   // ConnectivitÃ© DNS
   // Transferts de zones
   // Redirecteurs
   // DÃ©lÃ©gations
   // Mise Ã  jour dynamique
```

### SchÃ©ma ASCII

```
[DNS Principal: SUPERMAN] â†’ zone comptaas.lan
            â†“
[DNS Secondaire: BATMAN] â† copie zone
```

---
</details>
<details>
<summary>

# **Fiche 4 â€“ Redondance DHCP**
</summary>

### RÃ´les DHCP

* **Principal** : autoritÃ© dâ€™attribution, gestion Ã©tendue, options rÃ©seau
* **Secondaire / Failover** : Ã©quilibre la charge ou prend le relais si panne

### MÃ©thode â€“ Basculement DHCP

1. Installer rÃ´le **DHCP** sur serveur secondaire
2. Configurer basculement via IPv4 â†’ *Configurer un basculement*
3. SÃ©lectionner Ã©tendue, serveur partenaire
4. Choisir mode :

   * **Load balancing** (50/50)
   * **Serveur secours / Failover** (ex : 20% secondaire)
5. Passphrase â†’ valider â†’ actualiser serveur secondaire

### Commandes rÃ©seau clients

```
ipconfig /release
// LibÃ¨re l'adresse IP actuelle du client

ipconfig /renew
// Demande une nouvelle adresse IP au serveur DHCP

ipconfig /all
// Affiche tous les dÃ©tails de configuration TCP/IP
```

### SchÃ©ma ASCII â€“ Basculement DHCP

```
[DHCP Primaire: SUPERMAN] â†’ distribue 80% IP
             â†“ Failover
[DHCP Secondaire: BATMAN] â†’ distribue 20% IP si primaire down
```

---
</details>
<details>
<summary>

# **Fiche 5 â€“ Outils de diagnostic dÃ©taillÃ©s**
</summary>

### **REPADMIN**

```
| Commande                        |Description                                                    |
| --------------------------------| ------------------------
| `repadmin /replsummary`         | Affiche rÃ©sumÃ© global de rÃ©plication (succÃ¨s / Ã©chec / dÃ©lais).
| `repadmin /showrepl`            | Affiche Ã©tat rÃ©plication par DC et partenaires .
| `repadmin /showrepl /errorsonly`| Affiche uniquement erreurs de rÃ©plication  .              
```

### **DCDIAG**

```
| Commande                       | Description                                         |
| ------------------------------ | --------------------------------------------------- |
| `dcdiag /s:SUPERMAN /a`        | VÃ©rifie Ã©tat de tous les DC connus                  |
| `dcdiag /s:SUPERMAN /q`        | Affiche seulement erreurs                           |
| `dcdiag /s:SUPERMAN /test:dns` | VÃ©rifie Ã©tat DNS : zones, redirecteurs, dÃ©lÃ©gations |
```
### **DNSLINT**

```
| Commande                                    | Description                                  
| ---------------------------------------------|------------|
| `dnslint`                                    | Affiche toutes les options disponibles.
| `dnslint /d comptaas.lan`                    | Test des enregistrements DNS pour un domaine.
| `dnslint /ad 192.168.23.1 /s 192.168.23.1 /v`| Test rÃ©plication AD DNS (mode verbeux).
```
ğŸ’¡ Astuce : Utiliser ces outils **rÃ©guliÃ¨rement** pour sâ€™assurer que AD/DNS/DHCP fonctionnent correctement et que la rÃ©plication nâ€™a pas dâ€™erreurs.

---
</details>