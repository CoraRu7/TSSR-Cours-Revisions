<details>
<summary>

## ğŸ§¾ **Fiche 1 â€” Introduction Ã  Samba**
</summary>

### ğŸ¯ **Objectif**

Comprendre ce quâ€™est Samba, son rÃ´le dans les rÃ©seaux hÃ©tÃ©rogÃ¨nes et ses avantages dans le partage de ressources entre systÃ¨mes Linux, Windows et macOS.

---

### ğŸ§  **Concepts clÃ©s**

| Terme                          | DÃ©finition                                                                                                          |
| ------------------------------ | ------------------------------------------------------------------------------------------------------------------- |
| **Samba**                      | Suite logicielle open source permettant le partage de fichiers et dâ€™imprimantes entre Linux/UNIX, Windows et macOS. |
| **InteropÃ©rabilitÃ©**           | CapacitÃ© de diffÃ©rents systÃ¨mes dâ€™exploitation Ã  Ã©changer et utiliser des donnÃ©es entre eux.                        |
| **SMB (Server Message Block)** | Protocole de partage de fichiers utilisÃ© par Windows, que Samba implÃ©mente pour Linux.                              |
| **smbd / nmbd**                | Services (daemons) de Samba : `smbd` gÃ¨re les partages et `nmbd` la dÃ©couverte sur le rÃ©seau.                       |

---

### âš™ï¸ **Commandes & manipulations**

Aucune commande ici encore â€” mais retiens le rÃ´le des deux services :

```bash
# Service principal de partage
sudo systemctl status smbd

# Service de dÃ©couverte des partages sur le rÃ©seau
sudo systemctl status nmbd
```

---

### ğŸ—‚ï¸ **Tableau explicatif â€” Exemple dâ€™usage**

| ScÃ©nario                                   | Sans Samba                                       | Avec Samba                                    |
| ------------------------------------------ | ------------------------------------------------ | --------------------------------------------- |
| Partage de fichiers entre Linux et Windows | Solutions tierces, FTP, cloud, complexitÃ© accrue | Partage direct et sÃ©curisÃ© via rÃ©seau local   |
| Entreprise multi-OS                        | Gestion sÃ©parÃ©e des ressources                   | Gestion centralisÃ©e, authentification unifiÃ©e |

---

### ğŸ”— **Liens utiles**

* Documentation officielle : [https://www.samba.org/](https://www.samba.org/)
* Guide Ubuntu Samba : [https://help.ubuntu.com/community/Samba](https://help.ubuntu.com/community/Samba)

---
</details>
<details>
<summary>

## ğŸ§¾ **Fiche 2 â€” Installation de Samba**
</summary>

### ğŸ¯ **Objectif**

Installer Samba sur un systÃ¨me Linux (Debian/Ubuntu) et prÃ©parer le serveur Ã  hÃ©berger des partages de fichiers.

---

### ğŸ§  **Concepts clÃ©s**

| Terme             | DÃ©finition                                                                                          |
| ----------------- | --------------------------------------------------------------------------------------------------- |
| **PrÃ©requis**     | VÃ©rifications Ã  faire avant installation : systÃ¨me Ã  jour, rÃ©seau configurÃ©, droits administrateur. |
| **Paquets Samba** | `samba` (service principal), `samba-common-bin` (outils de gestion).                                |
| **smb.conf**      | Fichier principal de configuration situÃ© dans `/etc/samba/`.                                        |

---

### âš™ï¸ **Commandes & manipulations**

#### 1ï¸âƒ£ **PrÃ©parer le systÃ¨me**

```bash
sudo apt update && sudo apt upgrade -y
```

â¡ï¸ Met Ã  jour la liste des paquets et installe les derniÃ¨res versions.

#### 2ï¸âƒ£ **Installer Samba**

```bash
sudo apt install samba samba-common-bin -y
```

#### 3ï¸âƒ£ **VÃ©rifier lâ€™installation**

```bash
ls -l /etc/samba/
```

â¡ï¸ Le fichier `smb.conf` doit Ãªtre prÃ©sent.

#### 4ï¸âƒ£ **Sauvegarder la configuration dâ€™origine**

```bash
sudo cp /etc/samba/smb.conf /etc/samba/smb.conf.bak
```

#### 5ï¸âƒ£ **VÃ©rifier la version et la configuration rÃ©seau**

```bash
uname -a       # Version du noyau
ip a           # VÃ©rification IP
```

---

### ğŸ—‚ï¸ **Tableau â€” Erreurs courantes et corrections**

| Erreur                       | Cause probable                            | Solution                                    |
| ---------------------------- | ----------------------------------------- | ------------------------------------------- |
| Service Samba ne dÃ©marre pas | Fichier smb.conf mal configurÃ©            | VÃ©rifier la syntaxe (`testparm`)            |
| Partage inaccessible         | Dossier inexistant ou mauvaise permission | CrÃ©er le dossier et corriger les droits     |
| Aucune visibilitÃ© rÃ©seau     | Pare-feu ou nmbd dÃ©sactivÃ©                | Activer le service et autoriser le port 445 |

---

### ğŸ”— **Liens utiles**

* VÃ©rification configuration : `testparm`
* Documentation Debian : [https://wiki.debian.org/Samba](https://wiki.debian.org/Samba)

---
</details>
<details>
<summary>

## ğŸ§¾ **Fiche 3 â€” Configuration basique de Samba**
</summary>

### ğŸ¯ **Objectif**

CrÃ©er un premier partage simple, accessible sur le rÃ©seau local.

---

### ğŸ§  **Concepts clÃ©s**

| Terme             | DÃ©finition                                                                      |
| ----------------- | ------------------------------------------------------------------------------- |
| **Partage Samba** | Dossier rendu accessible via le rÃ©seau.                                         |
| **Directive**     | Ligne de configuration dans `smb.conf` (ex: `path`, `read only`, `browseable`). |
| **Service smbd**  | Processus gÃ©rant le partage de fichiers.                                        |

---

### âš™ï¸ **Commandes & manipulations**

#### 1ï¸âƒ£ **CrÃ©er un dossier de partage**

```bash
sudo mkdir -p /home/shared/sambaTest
```

#### 2ï¸âƒ£ **Modifier la configuration**

```bash
cd /etc/samba
sudo nano smb.conf
```

â¡ï¸ Ajouter Ã  la fin du fichier :

```ini
[MonPartage]
path = /home/shared/sambaTest
read only = no
browseable = yes
```

#### 3ï¸âƒ£ **RedÃ©marrer le service**

```bash
sudo systemctl restart smbd
sudo systemctl status smbd
```

#### 4ï¸âƒ£ **Tester la configuration**

```bash
testparm
```

â¡ï¸ Valide le fichier `smb.conf`.

---

### ğŸ“Š **Tableau â€” ParamÃ¨tres essentiels**

| Directive    | RÃ´le                      | Valeur typique           |
| ------------ | ------------------------- | ------------------------ |
| `path`       | Chemin du dossier partagÃ© | `/home/shared/sambaTest` |
| `read only`  | AccÃ¨s lecture seule ?     | `no`                     |
| `browseable` | Visible sur le rÃ©seau ?   | `yes`                    |

---

### ğŸ”— **Liens utiles**

* Commande de test : `testparm`
* Interface graphique possible : `system-config-samba`

---
</details>
<details>
<summary>

## ğŸ§¾ **Fiche 4 â€” Gestion des utilisateurs et permissions**
</summary>

### ğŸ¯ **Objectif**

CrÃ©er des comptes Samba, attribuer des permissions et sÃ©curiser lâ€™accÃ¨s aux partages.

---

### ğŸ§  **Concepts clÃ©s**

| Terme                 | DÃ©finition                                                |
| --------------------- | --------------------------------------------------------- |
| **Utilisateur Samba** | Compte spÃ©cifique Ã  Samba, ajoutÃ© avec `smbpasswd`.       |
| **Permissions Linux** | GÃ©rÃ©es avec `chmod` et `chown`.                           |
| **Directives Samba**  | ContrÃ´le de lâ€™accÃ¨s via `valid users`, `write list`, etc. |

---

### âš™ï¸ **Commandes & manipulations**

#### 1ï¸âƒ£ **CrÃ©er un utilisateur systÃ¨me**

```bash
sudo adduser nom_utilisateur
```

#### 2ï¸âƒ£ **Lâ€™ajouter Ã  Samba**

```bash
sudo smbpasswd -a nom_utilisateur
```

#### 3ï¸âƒ£ **DÃ©finir les permissions sur le dossier partagÃ©**

```bash
sudo chown nom_utilisateur /home/shared/sambaTest
sudo chmod 755 /home/shared/sambaTest
```

#### 4ï¸âƒ£ **Restreindre lâ€™accÃ¨s dans smb.conf**

```ini
[PartageSecurise]
path = /home/shared/sambaTest
valid users = nom_utilisateur
read only = no
browseable = yes
```

#### 5ï¸âƒ£ **RedÃ©marrer Samba**

```bash
sudo systemctl restart smbd
```

---

### ğŸ—‚ï¸ **Tableau â€” ContrÃ´le dâ€™accÃ¨s**

| Directive             | Fonction                                     | Exemple                     |
| --------------------- | -------------------------------------------- | --------------------------- |
| `valid users`         | SpÃ©cifie les utilisateurs autorisÃ©s          | `valid users = tata`        |
| `write list`          | Autorise lâ€™Ã©criture malgrÃ© `read only = yes` | `write list = admin`        |
| `inherit permissions` | Reprend les permissions du dossier parent    | `inherit permissions = yes` |

---

### ğŸ’¡ **Bonnes pratiques**

* Appliquer des permissions **minimales nÃ©cessaires**.
* Toujours tester lâ€™accÃ¨s avec un compte utilisateur.
* Sauvegarder le fichier `smb.conf` avant chaque modification.

---

### ğŸ”— **Liens utiles**

* Gestion des droits : `chmod`, `chown`
* Commande de test : `smbclient -L localhost -U utilisateur`

---
</details>
<details>
<summary>

## ğŸ§¾ **Fiche 5 â€” Configuration avancÃ©e & sÃ©curitÃ©**
</summary>

### ğŸ¯ **Objectif**

Mettre en Å“uvre des fonctionnalitÃ©s avancÃ©es (chiffrement, intÃ©gration AD, hÃ©ritage de permissions) et sÃ©curiser les partages Samba.

---

### ğŸ§  **Concepts clÃ©s**

| Terme                     | DÃ©finition                                                               |
| ------------------------- | ------------------------------------------------------------------------ |
| **Chiffrement SMB**       | SÃ©curise les Ã©changes client-serveur (`smb encrypt = mandatory`).        |
| **Scripts Samba**         | Automatisent des actions au dÃ©marrage/arrÃªt dâ€™un partage.                |
| **Active Directory (AD)** | SystÃ¨me dâ€™authentification centralisÃ© de Windows, compatible avec Samba. |

---

### âš™ï¸ **Commandes & manipulations**

#### 1ï¸âƒ£ **Activer le chiffrement**

Dans `/etc/samba/smb.conf`, section `[global]` :

```ini
smb encrypt = mandatory
```

#### 2ï¸âƒ£ **HÃ©ritage des permissions**

Dans le partage concernÃ© :

```ini
inherit permissions = yes
```

#### 3ï¸âƒ£ **Limiter lâ€™accÃ¨s rÃ©seau**

```ini
hosts allow = 192.168.1.0/24
```

#### 4ï¸âƒ£ **CrÃ©er un partage sÃ©curisÃ© complet**

```ini
[PartageSÃ©curisÃ©]
path = /home/shared/tataSec
valid users = tata
read only = no
browseable = yes
inherit permissions = yes
```

#### 5ï¸âƒ£ **Surveillance et dÃ©pannage**

```bash
sudo systemctl status smbd
sudo tail -f /var/log/samba/log.smbd
```

---

### ğŸ§© **Tableau â€” Outils de supervision**

| Outil/Commande          | UtilitÃ©                           |
| ----------------------- | --------------------------------- |
| `systemctl status smbd` | VÃ©rifie le service Samba          |
| `journalctl -u smbd`    | Affiche les logs du service       |
| `/var/log/samba/`       | RÃ©pertoire des journaux dÃ©taillÃ©s |
| `smbstatus`             | Liste les connexions actives      |

---

### ğŸ” **Bonnes pratiques sÃ©curitÃ©**

* Restreindre les utilisateurs avec `valid users`.
* Toujours activer le chiffrement (`smb encrypt`).
* Effectuer des sauvegardes rÃ©guliÃ¨res du dossier `/etc/samba/`.
* ContrÃ´ler les droits Linux et Samba simultanÃ©ment.

---

### ğŸ”— **Liens utiles**

* SÃ©curitÃ© Samba : [https://wiki.samba.org/index.php/Samba_Security](https://wiki.samba.org/index.php/Samba_Security)
* IntÃ©gration AD : [https://wiki.samba.org/index.php/Setting_up_Samba_as_an_Active_Directory_Domain_Controller](https://wiki.samba.org/index.php/Setting_up_Samba_as_an_Active_Directory_Domain_Controller)

---
</details>
