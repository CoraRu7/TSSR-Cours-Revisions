# Configurer un commutateur sous Packet Tracer

## Objectif

Apprendre à configurer et sécuriser un commutateur Cisco dans un réseau local simulé avec Packet Tracer, en activant les interfaces, attribuant une IP au VLAN, configurant l’accès SSH, et vérifiant la connectivité.

---

## Concepts clés

### 1. Rôle du commutateur (Switch)

* Équipement central d’un réseau local (LAN).
* Utilise les **adresses MAC** pour acheminer les données vers le port correspondant.
* Optimise la bande passante et améliore la sécurité en limitant les diffusions.
* Différence avec un hub : le hub diffuse, le switch cible le destinataire.

**Fonctions principales :**

* Distribution ciblée des données via table MAC.
* Optimisation de la bande passante.
* Connectivité fiable et gestion des collisions.
* Sécurité : isolation via VLAN, limitation des diffusions.

**Exemple :** Deux PC échangent des fichiers volumineux, le switch empêche d’interférer avec les autres périphériques.

---

### 2. Composants d’un switch

* **Ports** : connexion des périphériques, indicateurs LED.
* **Processeur** : gère la table MAC et le traitement des données.
* **Firmware** : règles et algorithmes de fonctionnement (VLAN, sécurité).
* **Mémoire** : RAM pour données temporaires, mémoire non volatile pour la config.

**Metaphore :** Le switch = bureau de poste, adresse MAC = adresse d’une maison, table MAC = registre des adresses.

---

### 3. Packet Tracer

* Logiciel de simulation pour configurer et tester des réseaux.
* Modes :

  * **Logique** : structure schématique (recommandé pour débutants).
  * **Physique** : vue des équipements.
  * **Simulation** : visualisation du flux des paquets.
  * **Temps réel** : réseau en fonctionnement normal.

**Ajout d’un switch dans Packet Tracer :**

* Network Devices → Switches → glisser sur le plan de travail.
* Configurer via **Physical**, **Config**, ou **CLI**.

**Câblage :**

* Câble droit → équipements différents (PC ↔ Switch).
* Câble croisé → équipements similaires (PC ↔ PC).
* Astuce : **Auto-connect (éclair)** pour gagner du temps.

---

### 4. Configuration initiale

1. **Nom d’hôte** : `hostname Switch-test`

   * Facilite l’identification sur le réseau.
2. **IP sur VLAN 1** :

   * `interface vlan 1` → `ip address 192.168.1.100 255.255.255.0` → `no shutdown`.
   * Permet administration distante (SSH/Telnet).
3. **Activation des interfaces** :

   * `interface FastEthernet0/1` → `no shutdown`.
   * Désactiver ports inutilisés pour sécuriser : `shutdown`.

---

### 5. Sécurisation et gestion

* **Mot de passe enable** : `enable secret MonMDP` (chiffré).
* **Mot de passe console** :

  ```
  line console 0
  password MonMDPConsole
  ```
* **Chiffrement de tous les mots de passe** : `service password-encryption`.
* **SSH sécurisé** :

  ```
  ip domain-name monréseau.local
  crypto key generate rsa
  ip ssh version 2
  username admin privilege 15 secret MonMDP
  line vty 0 4
  transport input ssh
  login local
  ```
* **Vérification et sauvegarde** :

  * `show running-config` → vérifier configuration.
  * `write memory` ou `copy running-config startup-config` → sauvegarder.

---

### 6. Tests et vérifications

* **Ping** : tester la connectivité entre périphériques (`ping 192.168.1.2`).
* **Table MAC** : vérifier l’apprentissage des adresses : `show mac address-table`.
* Vérifier que les interfaces sont actives : `show ip interface brief` ou `show interfaces status`.

---

### 7. Commandes de base

| Objectif                   | Commande                                                                      |
| -------------------------- | ----------------------------------------------------------------------------- |
| Mode privilégié            | `enable`                                                                      |
| Mode configuration globale | `configure terminal`                                                          |
| Quitter un mode            | `exit`                                                                        |
| Nom d’hôte                 | `hostname Switch-test`                                                        |
| IP VLAN 1                  | `interface vlan 1` → `ip address 192.168.1.100 255.255.255.0` → `no shutdown` |
| Activer interface          | `interface FastEthernet0/1` → `no shutdown`                                   |
| Désactiver interface       | `shutdown`                                                                    |
| Vérification config        | `show running-config`                                                         |
| Sauvegarde config          | `write memory` ou `copy running-config startup-config`                        |

---

### 8. Conseils pratiques

* Utiliser **Place Note** pour annoter IP et MAC des périphériques.
* Activer **Always Show Port Labels**.
* Donner des noms explicites aux équipements (hostname).
* Tester systématiquement la connectivité après chaque configuration.

---

### 9. Exercice pratique

**Réseau entreprise ABC Informatique :**

* IP Switch VLAN1 : 192.168.10.254/24 (Administration)
* PCs : 192.168.10.10 (Admin), 192.168.20.10 (Support), 192.168.30.10 (Logistique)
* Routeur central : 192.168.10.1

**Étapes :**

1. `configure terminal`
2. `interface vlan 1` → `ip address 192.168.10.254 255.255.255.0` → `no shutdown`
3. Activer les interfaces nécessaires (`no shutdown`).
4. Sécuriser accès (mot de passe enable, SSH, désactivation des ports inutilisés).
5. Vérifier connectivité (`ping`) et table MAC (`show mac address-table`).
6. Sauvegarder la configuration (`write memory`).

---